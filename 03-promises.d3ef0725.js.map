{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAUC,SAASC,cAAc,QACjCC,EAAYF,SAASG,iBAAiB,SAExCC,EAAa,KACbC,EAAkB,EA2CtB,SAASC,EAAcC,EAAUC,GAE/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAELC,KAAKC,SAAW,GAEpCH,EAAQ,CACNH,SAAUA,EACVC,MAAOA,IAGTG,EAAO,CACLJ,SAAUA,EACVC,MAAOA,G,IAtDfT,EAAQe,iBAAiB,UAEzB,SAAkBC,GAChBA,EAAEC,iBACF,IAAMC,EAASC,OAAOhB,EAAU,GAAGiB,OAC7BC,EAAOF,OAAOhB,EAAU,GAAGiB,OAC3BE,EAAQH,OAAOhB,EAAU,GAAGiB,OAC9BG,EAAcD,EAElBE,YAAW,WACNN,EAAS,IAIZb,EAAaoB,aAAY,WAGvB,GADAF,GAAeF,GADff,GAAmB,GAEEY,EAGnB,OAFAQ,cAAcrB,QACdC,EAAkB,GAGpBC,EAAcD,EAAiBiB,GAC9BI,MAAK,SAAAC,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MACjBX,EAAA+B,OAAOC,QAAQ,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,IAE9DuB,OAAM,SAAAJ,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MAClBX,EAAA+B,OAAOI,QAAQ,sBAAuCF,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,MAE9DY,GAEFd,EAAcD,EAAiBgB,GAC9BK,MAAK,SAAAC,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MACjBX,EAAA+B,OAAOC,QAAQ,uBAAwCC,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,IAE9DuB,OAAM,SAAAJ,G,IAAGpB,EAAQoB,EAARpB,SAAUC,EAAKmB,EAALnB,MAClBX,EAAA+B,OAAOI,QAAQ,sBAAqCF,OAAfvB,EAAS,QAAYuB,OAANtB,EAAM,M,OAE5Da,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formRef = document.querySelector('form');\nconst inputsRef = document.querySelectorAll('input');\n\nlet intervalId = null;\nlet counterInterval = 1;\n\nformRef.addEventListener('submit', onSubmit);\n\nfunction onSubmit(e){\n  e.preventDefault();\n  const amount = Number(inputsRef[2].value);\n  const step = Number(inputsRef[1].value);\n  const delay = Number(inputsRef[0].value);\n  let counterStep = delay;\n\n  setTimeout(()=>{\n    if(amount < 1){\n      return\n    }\n\n    intervalId = setInterval(()=>{\n      counterInterval += 1;\n      counterStep += step;\n      if(counterInterval > amount){\n        clearInterval(intervalId);\n        counterInterval = 1;\n        return\n      }\n      createPromise(counterInterval, counterStep)\n      .then(({ position, delay }) => {\n        Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      })\n      .catch(({ position, delay }) => {\n        Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      });\n    },step);\n\n    createPromise(counterInterval, delay)\n    .then(({ position, delay }) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n  },delay);\n};\n\nfunction createPromise(position, delay) {\n  \n  return new Promise((resolve, reject) => {\n    \n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({\n        position: position,\n        delay: delay,\n      });\n    } else {\n      reject({\n        position: position,\n        delay: delay,\n      });\n    };\n  });\n};"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$inputsRef","querySelectorAll","$ce04d3a99e08e73b$var$intervalId","$ce04d3a99e08e73b$var$counterInterval","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","Math","random","addEventListener","e","preventDefault","amount","Number","value","step","delay1","counterStep","setTimeout","setInterval","clearInterval","then","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.d3ef0725.js.map"}